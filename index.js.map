{"version":3,"file":"index.js","sources":["../src/js/local-storage-api.js","../src/js/refs.js","../src/js/render-tasks.js","../src/js/handlers.js","../src/main.js"],"sourcesContent":["const STORAGE_KEY = \"tasks\"\n\nfunction getTasks() {\n    return JSON.parse(localStorage.getItem(STORAGE_KEY))\n}\n\nfunction saveTasks(task) {\n    const tasks = getTasks()\n    tasks.push(task)\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks))\n}\n\nfunction initTasks() {\n    const tasks = getTasks() ?? []\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks))\n}\n\nfunction deleteTask(taskId) {\n    const tasks = getTasks()\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks.filter(task => task.id !== taskId)))\n}\n\nexport default { getTasks, saveTasks, initTasks, deleteTask }","export const refs = {\n    form: document.querySelector(\"#task-form\"),\n    tasksList: document.querySelector(\".tasks-list\")\n}","import { refs } from \"./refs\"\n\nexport function renderTasks(tasks) {\n    const markup = tasks.map(({ name, description, id }) => `<li class=\"task-list-item\">\n        <button class=\"task-list-item-btn\" data-id=\"${id}\">Delete</button>\n        <h3>${name}</h3>\n        <p>${description}</p>\n      </li>`)\n        .join(\"\")\n    refs.tasksList.innerHTML = markup\n}","import { nanoid } from \"nanoid\";\nimport localStorageApi from \"./local-storage-api\";\nimport { renderTasks } from \"./render-tasks\";\n\nexport function onFormSubmit(e) {\n    e.preventDefault();\n    const { taskName, taskDescription } = e.target.elements\n    const name = taskName.value.trim()\n    const description = taskDescription.value.trim()\n    if (!name || !description) {\n        console.log(\"Fill in the text\")\n        return\n    }\n    const task = {\n        name,\n        description,\n        id: nanoid()\n    }\n\n    localStorageApi.saveTasks(task)\n    const tasks = localStorageApi.getTasks()\n    renderTasks(tasks)\n\n    e.target.reset()\n}\n\nexport function onTaskDelete(e) {\n    if (e.target.nodeName !== \"BUTTON\") {\n        return\n    }\n    const taskId = e.target.dataset.id\n    localStorageApi.deleteTask(taskId)\n    const tasks = localStorageApi.getTasks()\n    renderTasks(tasks)\n}","import { onFormSubmit, onTaskDelete } from \"./js/handlers\";\nimport { refs } from \"./js/refs\";\nimport localStorageApi from \"./js/local-storage-api\";\nimport { renderTasks } from \"./js/render-tasks\";\n\nlocalStorageApi.initTasks()\nrenderTasks(localStorageApi.getTasks())\nrefs.form.addEventListener(\"submit\", onFormSubmit)\nrefs.tasksList.addEventListener(\"click\", onTaskDelete)"],"names":["STORAGE_KEY","getTasks","saveTasks","task","tasks","initTasks","deleteTask","taskId","localStorageApi","refs","renderTasks","markup","name","description","id","onFormSubmit","taskName","taskDescription","nanoid","onTaskDelete"],"mappings":"svBAAA,MAAMA,EAAc,QAEpB,SAASC,GAAW,CAChB,OAAO,KAAK,MAAM,aAAa,QAAQD,CAAW,CAAC,CACvD,CAEA,SAASE,EAAUC,EAAM,CACrB,MAAMC,EAAQH,EAAU,EACxBG,EAAM,KAAKD,CAAI,EACf,aAAa,QAAQH,EAAa,KAAK,UAAUI,CAAK,CAAC,CAC3D,CAEA,SAASC,GAAY,CACjB,MAAMD,EAAQH,EAAQ,GAAM,CAAE,EAC9B,aAAa,QAAQD,EAAa,KAAK,UAAUI,CAAK,CAAC,CAC3D,CAEA,SAASE,EAAWC,EAAQ,CACxB,MAAMH,EAAQH,EAAU,EACxB,aAAa,QAAQD,EAAa,KAAK,UAAUI,EAAM,OAAOD,GAAQA,EAAK,KAAOI,CAAM,CAAC,CAAC,CAC9F,CAEA,MAAAC,EAAe,CAAE,SAAAP,EAAU,UAAAC,EAAW,UAAAG,EAAW,WAAAC,CAAU,ECtB9CG,EAAO,CAChB,KAAM,SAAS,cAAc,YAAY,EACzC,UAAW,SAAS,cAAc,aAAa,CACnD,ECDO,SAASC,EAAYN,EAAO,CAC/B,MAAMO,EAASP,EAAM,IAAI,CAAC,CAAE,KAAAQ,EAAM,YAAAC,EAAa,GAAAC,CAAE,IAAO;AAAA,sDACNA,CAAE;AAAA,cAC1CF,CAAI;AAAA,aACLC,CAAW;AAAA,YACZ,EACH,KAAK,EAAE,EACZJ,EAAK,UAAU,UAAYE,CAC/B,CCNO,SAASI,EAAa,EAAG,CAC5B,EAAE,eAAc,EAChB,KAAM,CAAE,SAAAC,EAAU,gBAAAC,CAAiB,EAAG,EAAE,OAAO,SACzCL,EAAOI,EAAS,MAAM,KAAM,EAC5BH,EAAcI,EAAgB,MAAM,KAAM,EAChD,GAAI,CAACL,GAAQ,CAACC,EAAa,CACvB,QAAQ,IAAI,kBAAkB,EAC9B,MACH,CACD,MAAMV,EAAO,CACT,KAAAS,EACA,YAAAC,EACA,GAAIK,EAAQ,CACf,EAEDV,EAAgB,UAAUL,CAAI,EAC9B,MAAMC,EAAQI,EAAgB,SAAU,EACxCE,EAAYN,CAAK,EAEjB,EAAE,OAAO,MAAO,CACpB,CAEO,SAASe,EAAa,EAAG,CAC5B,GAAI,EAAE,OAAO,WAAa,SACtB,OAEJ,MAAMZ,EAAS,EAAE,OAAO,QAAQ,GAChCC,EAAgB,WAAWD,CAAM,EACjC,MAAMH,EAAQI,EAAgB,SAAU,EACxCE,EAAYN,CAAK,CACrB,CC7BAI,EAAgB,UAAW,EAC3BE,EAAYF,EAAgB,UAAU,EACtCC,EAAK,KAAK,iBAAiB,SAAUM,CAAY,EACjDN,EAAK,UAAU,iBAAiB,QAASU,CAAY"}